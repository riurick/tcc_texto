\newpage
\appendix
\chapter{Apêndice 2}
\label{apendice2}

\section{Cenários dos testes de aceitação - plugin para envio de TCC}


\textbf{Feature: send work plugin}

\textbf{As} an user

\textbf{I want} to send work with notification email

\textbf{Background:}

\textbf{Given} ``Work Assignment'' plugin is enabled

\textbf{Given} the following users

      | login     | name          |

      | joaosilva | Joao da Silva |

      | josesilva | Jose da Silva |

\textbf{And} the following community

      | identifier  | name         |

      | mycommunity | My Community |

\textbf{And} ``Joao da Silva" is admin of ``My Community"

\textbf{And} I am logged in as admin

\textbf{And} I go to /admin/plugins

\textbf{And} I check ``Work Assignment"

\textbf{And} I press ``Save changes"

\textbf{Then} I should see ``Plugins updated successfully." 

\item \textbf{Scenario:} Create a work assignment and continue edition

    \textbf{Given} I am logged in as ``joaosilva" 
    
    \textbf{When} I follow ``My Community"
    
    \textbf{When} I go to mycommunity's control panel
    
    \textbf{And} I follow ``Manage Content"
    
    \textbf{And} I follow ``New content"
    
    \textbf{And} I follow ``Work Assignment"

    \textbf{Then} I should be on /myprofile/mycommunity/cms/new
    
    \textbf{When} I fill in ``Title" with ``test"
    
    \textbf{And} I press ``Save and continue"
    
    \textbf{Then} I should be on /myprofile/mycommunity/cms/edit/13

 

\item \textbf{Scenario:} Can't create work assignment without name
    
    \textbf{Given}  I am logged in as ``joaosilva" 
    
    \textbf{When} I follow ``My Community"
    
    \textbf{When} I go to mycommunity's control panel
    
    \textbf{And} I follow ``Manage Content"
    
    \textbf{And} I follow ``New content"
    
    \textbf{And} I follow ``Work Assignment"
    
    \textbf{Then} I should be on /myprofile/mycommunity/cms/new
    
    \textbf{When} I fill in ``Title" with ``"
    
    \textbf{And} I press ``Save"
    
    \textbf{Then} I should see ``There were problems with the following fields:"

\item \textbf{Scenario:} Can't create work assignment without file
   
    \textbf{Given} I am logged in as ``joaosilva" 
   
    \textbf{When} I follow ``My Community"
   
    \textbf{When} I go to mycommunity's control panel
   
    \textbf{And} I follow ``Manage Content"
   
    \textbf{And} I follow ``New content"
   
    \textbf{And} I follow ``Work Assignment"
   
    \textbf{Then} I should be on /myprofile/mycommunity/cms/new
   
    \textbf{When} I fill in ``Title" with ``test"
   
    \textbf{And} I press ``Save"
   
    \textbf{Then} I should be on /mycommunity/test
   
    \textbf{When} I follow ``Upload files"
   
    \textbf{And} I press ``Upload"
   
    \textbf{Then} I should be on /myprofile/mycommunity/cms/uploadfiles

\item \textbf{Scenario:} Cancel create work assignment
    
    \textbf{Given} I am logged in as ``joaosilva"
    
    \textbf{When} I follow ``My Community"
    
    \textbf{When} I go to mycommunity's control panel
    
    \textbf{And}  I follow ``Manage Content"
    
    \textbf{And}  I follow ``New content"
    
    \textbf{And}  I follow ``Work Assignment"
    
    \textbf{Then} I should be on /myprofile/mycommunity/cms/new
    
    \textbf{When} I fill in ``Title" with ``test"
    
    \textbf{And}  I press ``Save"
    
    \textbf{Then} I should be on /mycommunity/test
    
    \textbf{When} I follow ``Upload files"
    
    \textbf{And}  I follow ``Cancel"
    
    \textbf{Then} I should be on /mycommunity/test

\item \textbf{Scenario:} Edit work assignment 
    
    \textbf{Given} I am logged in as ``joaosilva"
    
    \textbf{When} I follow ``My Community"
    
    \textbf{When} I go to mycommunity's control panel
    
    \textbf{And} I follow ``Manage Content"
    
    \textbf{And} I follow ``New content"
    
    \textbf{And} I follow ``Work Assignment"
    
    \textbf{Then} I should be on /myprofile/mycommunity/cms/new
    
    \textbf{When} I fill in ``Title" with ``test"
    
    \textbf{And} I press ``Save"
    
    \textbf{Then} I should be on /mycommunity/test
    
    \textbf{When} I follow ``Edit"
    
    \textbf{And} I fill in ``Title" with ``test2"
    
    \textbf{And} I press ``Save"
    
    \textbf{Then} I should be on /mycommunity/test2

\item \textbf{Scenario:} Delete a work assignment  
   
    \textbf{Given} I am logged in as ``joaosilva"
   
    \textbf{When} I follow ``My Community"
   
    \textbf{When} I go to mycommunity's control panel
   
    \textbf{And} I follow ``Manage Content"
   
    \textbf{And} I follow ``New content"
   
    \textbf{And} I follow ``Work Assignment"
   
    \textbf{Then} I should be on /myprofile/mycommunity/cms/new
   
    \textbf{When} I fill in ``Title" with ``test"
   
    \textbf{And} I press ``Save"
   
    \textbf{Then} I should be on /mycommunity/test
   
    \textbf{When} I follow ``Edit"
   
    \textbf{And} I follow ``Delete"
   
    \textbf{And} I confirm the browser dialog
   
    \textbf{Then} I should see /``test" was removed./
    
\end{enumerate}